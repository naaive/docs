# Sentinel


故障转移


## 流程图

![sentinel](sentinel.png)

## 监控
N/2+1 个节点哨兵集群中，当一半节点通过ping pong判定主从库下线，则确认下线。

哨兵之间通过**pub/sub**机制**相互发现**，**信息同步**。
## 选举

- 筛选，根据在线状态，历史网络状态去掉不符合的从库
- 按照 优先级、复制进度、ID号选举

## 通知

**pub/sub**事件通知